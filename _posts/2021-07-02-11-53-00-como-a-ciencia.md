---
title: Como a ci√™ncia pode te ajudar a resolver bugs
published: true
description: Qual √© o m√©todo que voc√™ usa para resolver bugs? Voc√™ tem m√©todo?
tags: [Ci√™ncia, M√©todo Cient√≠fico, Troubleshooting]
cover_image: /assets/images/pexels-pixabay-207529.jpg
publish_date: 2021-07-02 12:00:00 +0300
permalink: /posts/como-a-ciencia-pode-te-ajudar
---

Est√° na moda falar sobre ci√™ncia. Em meio a uma pandemia algumas pessoas est√£o louvando-a (_estou nesse grupo talkey!_) e outras odiando. Mas creio que muitos nem conhecem como a ci√™ncia funciona. Entender como ela funciona pode te ajudar em muitas coisas na sua vida, muitas decis√µes pr√°ticas podem ser tomadas de forma melhor se conhecermos o m√©todo da ci√™ncia. **_M√©todo??!?!_** Sim meu caro, ci√™ncia √© um m√©todo e n√£o um ser m√°gico que det√™m o conhecimento do al√©m de como as coisas funcionam.

Mas antes de come√ßarmos vou fazer uma pergunta: _Qual √© o seu m√©todo?_ Talvez voc√™ n√£o saiba responder a essa pergunta, mas voc√™ tem sim um m√©todo. Esse m√©todo pode ser at√© descrito. Tenta refletir a√≠ baseado nas perguntas abaixo:

* O que voc√™ faz quando recebe um ticket para implementar?
* O que voc√™ faz pensa quando sabe que tem um bug?
* Como voc√™ aprende?

Tudo tem um m√©todo, as vezes ele √© completamente subconsciente e emocional. Mas voc√™ pode refletir sobre ele e mudar ele.

## Como funciona o M√©todo Cient√≠fico?

_**Aviso**: Eu n√£o sou filosofo e nem cientista e minha faculdade n√£o tinha nenhuma mat√©ria sobre m√©todo cient√≠fico, logo n√£o leve minhas afirma√ß√µes como √∫ltimas, elas podem estar imprecisas. Aprendi sobre m√©todo cient√≠fico na pr√°tica em laborat√≥rio de f√≠sica._

A base do m√©todo cient√≠fico √© a formula√ß√£o e valida√ß√£o de hip√≥teses. Mas como isso funciona? Vamos dividir em passos e explicar cada passo pensando na solu√ß√£o de bugs.

1. Observa√ß√£o
2. Formula√ß√£o de hip√≥teses
3. Elabora√ß√£o de experimentos
4. Valida√ß√£o das hip√≥teses
5. An√°lise de dados
6. Conclus√£o

### 1. Observa√ß√£o

A primeira coisa que devemos fazer quando nos deparamos com um bug √© observar o que est√° acontecendo. Nesse caso precisamos levantar dados como em que ambiente o bug acontece, qual o contexto, saber se o sistema est√° sob estresse, h√° outros processos rodando na mesma m√°quina, quais foram as altera√ß√µes recentes e quem fez, etc... Quanto mais perguntas voc√™ fizer nessa fase, mais informa√ß√µes vai ter. 

√â muito importante saber todo o contexto, porque em muitos casos bugs s√£o criados por efeitos colaterais de outras altera√ß√µes e algumas solu√ß√µes podem desfazer altera√ß√µes pr√©vias que s√£o requisitos necess√°rios.

No final, a observa√ß√£o deve resultar em coleta de logs do sistema. Se o erro acontece sem nenhuma mensagem de erro ou alerta, isso por si j√° faz parte do bug.

### 2. Formula√ß√£o de hip√≥teses

O segundo passo √© formular hip√≥teses. Desenvolvimento de software tamb√©m √© baseado em hip√≥teses, algumas delas s√£o requisitos e outras s√£o padr√µes arquiteturais.

A hip√≥tese √© nada mais do que uma afirma√ß√£o sobre o contexto. Por que √© importante formular hip√≥teses? Porque n√£o podemos simplesmente sair alterando c√≥digo sem saber o que ele faz. Precisamos ser cir√∫rgicos nas nossas altera√ß√µes para evitar efeitos colaterais. Se formos cir√∫rgicos em nossas altera√ß√µes, o c√≥digo vai ficar cada vez mais est√°vel, caso contr√°rio teremos cada vez mais bugs em um processo que custar√° cada vez mais caro para o desenvolvimento. Nada √© pior do que c√≥digo inst√°vel.

Quer exemplos de hip√≥teses?
* O arquivo de configura√ß√£o n√£o est√° sendo lido
* O processo n√£o tem permiss√£o de leitura
* O HD est√° cheio
* H√° um memory leaky e o processo est√° sendo finalizado pelo sistema operacional

### 3. Elabora√ß√£o de experimentos

Agora que temos uma hip√≥tese, precisamos validar ela, mas para isso temos que fazer experimentos. Como eu posso criar um experimento a partir de uma hip√≥tese? Nosso camarada Karl Popper pode nos ajudar (_acho que era outro Karl?_ üôÉ), precisamos falsear essa hip√≥tese.

Falsear √© um termo que pode parecer estranho, mas √© como se peg√°ssemos nossa hip√≥tese e tent√°ssemos ver como ela pode ser refutada. Esse √© o princ√≠pio b√°sico para se criar testes. Se eu tenho uma hipotese que o erro acontece por um motivo, ser√° que eu consigo criar um teste que reproduz aquele erro? 

Vamos tentar fazer isso com nossa primeira hip√≥tese? Se o arquivo de configura√ß√£o n√£o est√° sendo lido, quais s√£o as possibilidades que podem fazer isso acontecer? Ser√° que ele existe? Se ele n√£o existir h√° uma mensagem de erro? Ser√° que o caminho dele est√° certo? Ser√° que h√° alguma vari√°vel de ambiente que sobrescreve ele? Ser√° que h√° algum erro no arquivo, algum par√¢metro escrito de forma incorreta? Quais mensagens de logs demonstram isso?

Falsear √© refletir sobre a hip√≥tese e em como construir testes que validem a hip√≥tese. √â simplesmente tentar destruir ela a todo custo.

### 4. Valida√ß√£o das hip√≥teses

Agora com minhas suposi√ß√µes, precisamos criar testes para validar se √© realmente isso que est√° acontecendo. Esses testes podem n√£o ser testes automatizados, pode ser apenas _"pede pra pessoa de opera√ß√£o executar `df -h` e me mandar a resposta"_.

Ou pode ser criar testes mesmo, no nosso exemplo, o que acontece se existe um arquivo de configura√ß√£o especificado, mas ele n√£o existe? Deve aparecer algum erro? O processo deve ser finalizado? Criar os testes automatizados podem ser importantes para que altera√ß√µes futuras n√£o tragam o erro de volta.

Nessa fase da valida√ß√£o de hip√≥teses √© necess√°rio em muitos casos voltar a fase de observa√ß√£o. Na grande maioria dos bugs de produ√ß√£o n√£o h√° dados para prever ele porque ningu√©m imaginava que ele poderia acontecer.

### 5. An√°lise de dados

Ao executar os testes, temos mais dados. Mas ser√° que os testes realmente reproduzem o problema? √â nessa hora vamos comprovar nossa hip√≥tese. Se a mensagem de erro √© a mesma ou o comportamento √© similar podemos assumir que nossa hip√≥tese √© v√°lida, caso contr√°rio precisamos de uma nova hip√≥tese e assim voltamos ao passo **2**. √â muito importante que o erro seja reproduzido, pois s√≥ assim sabemos quais condi√ß√µes o levaram a acontecer.

### 6. Conclus√£o

Ora, na ci√™ncia temos uma hip√≥tese validada, mas e em desenvolvimento de software? Tamb√©m temos uma hip√≥tese validada! E isso pode levar a v√°rias a√ß√µes. Observe que nesse processo eu n√£o falo de a√ß√µes ou corre√ß√µes, pois esse √© o processo de encontrar o problema.

Mas dada a nossa hip√≥tese, quais a√ß√µes devem ser tomadas? O processo deve ser executado com permiss√£o de administrador? O processo deve ser finalizado se houver um erro no arquivo de configura√ß√£o? O software deve sempre colocar no log as configura√ß√µes lidas? O software deve validar se tem permiss√£o de leitura/escrita de certos arquivos?

√â muito importante que a conclus√£o leve a poss√≠veis requisitos de automatiza√ß√£o. Isso pode ser feito com a cria√ß√£o de testes ou com dashboards para validar a opera√ß√£o. O conceito de observabilidade √© muito importante, devemos ter dados sobre a opera√ß√£o que possam validar e guiar o desenvolvimento.

## Conclus√£o

M√©todo √© importante, sem ele atuamos cegamente sem sabermos o que realmente estamos fazendo. H√° v√°rios m√©todos no desenvolvimento de software e as vezes n√£o pensamos sobre eles, como desenvolvimento tempos o Test Driven Development que √© um m√©todo bem comum. Ter m√©todo √© bastante √∫til porque nos ajuda a n√£o procrastinar, sabemos como iniciar a fazer e quais s√£o os passos. Em muitos casos a procrastina√ß√£o √© o medo de executar por n√£o saber.

Agora que voc√™ conhece como eu aplico o M√©todo Cient√≠fico no meu trabalho do dia a dia, me manda um oi para ver se eu te ajudei!

Se quiser conhecer mais sobre Karl Popper, eu achei esse texto simples no blog Nau dos Loucos: [Falseabilidade Descomplicada: Karl Popper e o Falsificacionismo](https://naudosloucos.com.br/falseabilidade-descomplicada-karl-popper-e-o-falsificacionismo/)
