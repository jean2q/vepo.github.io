---
title: Tests and Requirements
published: true
series: Thoughts on TDD
description: How can we ensure that any new development does not create an undesired behaviour?
tags: [Java, TDD, Bugs, Requirement]
layout: default
comments: true
cover_image: https://cdn.pixabay.com/photo/2015/05/11/13/28/software-762486_960_720.jpg
original: https://dev.to/vepo/thoughts-on-tdd-tests-and-requirements-e02
---

<p>In the last days I'm facing a huge question: <b>With several teams working with several projects, how to avoid new
        bugs?</b></p>

<!--more-->

<p>In the company that I work, we have a lot of microservices, but there is no owner. Probably someone can start
    workingin a project and a new feature should be added in a microservice. When this happen, <b>no bug should be added
        to any service in any client!</b></p>

<p>In this post I will describe how we are handling features changes with TDD.</p>

<h2>TDD process review</h2>

<p>When using TDD to develop any software we must:
<ol>
    <li>Configure Testing Frameworks</li>
    <li>Write a Test that fails</li>
    <li>Write the code that fixes all the Tests</li>
    <li>Refactor your code if necessary</li>
</ol>
</p>

<p>This is what we call Red-Green-Refactor. First you make a test fail, then you fix and at least you improve your code
    organization.</p>

<div class="image-box">
    <img src="https://s3.amazonaws.com/codecademy-content/programs/tdd-js/articles/red-green-refactor-tdd.png"
        alt="RGR Process" />
</div>

<h2>Some thoughts on Red-Green-Refactor</h2>

<p><b>Red-Green-Refactor</b> most of time is used for Unit Tests. And this lead some questions about requirements:
<ul>
    <li><b><i>How can we ensure that all the requirements are implemented by the our code?</i></b></li>
    <li><b><i>How can we ensure that any future implementation will not change any requirement?</i></b></li>
    <li><b><i>How can we ensure that all developers will know all requirements in any future implementation?</i></b>
    </li>
</ul>
</p>

<div class="image-box">
    <img src="https://memeworld.funnyjunk.com/pictures/When+you+have+a+group+project_a71b2c_6624638.jpg" alt="When someone change your
    code" />
</div>

<p>If we are talking about Unit Testing, this questions is not applied, because we are testing a class or a small piece
    of code. One change on this piece of code can change all software behaviour.</p>

<h2>Create Test for Requirements</h2>

<p>For all types of tests, none apply for requirements, they are all named according with the implementation components:
<ul>
    <li>Unit testing</li>
    <li>Integration testing</li>
    <li>System testing</li>
    <li>Sanity testing</li>
    <li>Smoke testing</li>
    <li>Interface testing</li>
    <li>Regression testing</li>
    <li>Beta/Acceptance testing</li>
</ul>
</p>

<p><b><i>But...</i></b> This names can mean nothing, we can create test for any purpose we want! So, I'm proposing a new
    kind of test: <b><i>Requirement Test</i></b>... Ok, <a
        href="https://www.tutorialspoint.com/software_testing_dictionary/requirements_based_testing">it already
        exists</a>! No problem.
<ul>
    <li>First create A Test Suite based on the Domain, not on the implementation. Instead of
        <code>UserManagerTests</code>, just a <code>UserTests</code> class. </li>
    <li>Then add all Requirement with a plain and complete text descriptions. This works fine on JUnit5</li>
    <li>If any test are failing, correct the code</li>
</ul>
</p>

<script src="https://gist.github.com/vepo/fe76292dda1b8f4270ae4896ae0e245b.js"></script>

<p>It is important to keep this tests in all changes, because this tests keep a memory of all requirements.</p>

<h3>Tips</h3>
<p>
<ul>
    <li>The more you abuse of words like <b>SHOULD</b>, <b>NEVER</b>, <b>ALWAYS</b> or <b>CAN</b> better is your
        description. </li>
    <li>Keep in mind the desired behaviour should be expressed as a <b>Test</b> and a <b>Test Description</b>. Any
        future development should know why all theses tests exists.</li>
    <li>Keep in mind that in a future modification, the developer cannot talk with you, but he can see what you were
        thinking in the moment of the change.</li>
</ul>
</p>

<h2>Conclusion</h2>

<p>Most of TDD approaches always talk about unit testing, but unit testing does not prevent you of any undesired
    requirement change. For that we purpose a Requirement Test. All requirement should be written as a Test. If any
    failed it cab be:
<ul>
    <li>The requirement has changed</li>
    <li>This change adds a bug in any other piece of code.</li>
</ul>
</p>